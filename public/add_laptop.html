<!DOCTYPE html>
<html lang="en">

<head>
    <title>Form Validation - Custom Style Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="assets/fonts/feather.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome.css">
    <link rel="stylesheet" href="assets/fonts/material.css">
    <script src="js/includeHtml.js"></script>
    <link rel="stylesheet" href="assets/css/style.css" id="main-style-link">


    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"></script>
    <script type="text/javascript" src="js/authentication.js"></script>
    <script type="text/javascript" src="js/firebaseSDKsnippet.js"></script>
</head>

<body class="">
    <div class="loader-bg">
        <div class="loader-track">
            <div class="loader-fill"></div>
        </div>
    </div>

    <div class="pc-mob-header pc-header">
        <div class="pcm-logo">
            <img src="assets/images/logo-white.png" alt="" class="logo logo-lg">
        </div>
        <div class="pcm-toolbar">
            <a href="#!" class="pc-head-link" id="mobile-collapse">
                <div class="hamburger hamburger--arrowturn">
                    <div class="hamburger-box">
                        <div class="hamburger-inner"></div>
                    </div>
                </div>
            </a>
            <a href="#!" class="pc-head-link" id="headerdrp-collapse">
                <i data-feather="align-right"></i>
            </a>
            <a href="#!" class="pc-head-link" id="header-collapse">
                <i data-feather="more-vertical"></i>
            </a>
        </div>
    </div>

    <div w3-include-html="navigation_menu.html"></div>

    <header class="pc-header ">

        <div w3-include-html="header.html"></div>

    </header>
    <div class="pc-container">
        <div class="container-fluid rounded bg-white mt-1">
            <div class="page-header">
                <div class="page-block">
                    <div class="row align-items-center">
                        <div class="col-md-12">
                            <div class="page-header-title">
                                <h5 class="m-b-10">Laptop Store </h5>
                            </div>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                <li class="breadcrumb-item">Add Product </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">

                    <div class="card" style="min-height:400px;">
                        <div class="card-body">
                            <center>
                                <h2>Add Product</h2>
                            </center>

                            <form class="row g-3 " action="#" name="contactForm" onsubmit="return validateForm()" method="post">
                                <div class="col-md-3 text-center">
                                    <div class="car-img">
                                        <img src="assets/images/laptop.png" class="picture-src" id="uploadPreview" width="500px">

                                        <div class="file btn btn-lg btn-primary" style="width: 80%;">
                                            Choose a image of a laptop
                                            <input id="uploadBtn" type="file" class="upload  col-md-12" onchange="uploadPicture();" />

                                        </div>
                                    </div>
                                    <input class="col-12" id="pictureName" placeholder="File Name here" disabled="disabled" style="width:80%;" />
                                </div>
                                <div class="col-md-9 border-right">
                                    <div class=row>
                                        <div class="col-md-6 col-sm-12">
                                            <label for="manufacturerName" class="form-label">Manufacturer name</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="manufacturerName" name="manuafacturerName" aria-describedby="inputGroupPrepend" placeholder="Laptop Name" onkeyup="validateManufacturerName()">
                                                <span class="input-group-text iconParent"><i class="fa fa-star" id="manuafacturerNameIcon"></i></span>
                                            </div>
                                            <div class="error" id="manufacturerErr"></div>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <label for="brandName" class="form-label">Brand Name</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="brandName" name="brandName" aria-describedby="inputGroupPrepend" placeholder="Laptop Name" onkeyup="validateBrandName()">
                                                <span class="input-group-text iconParent"><i class="fa fa-star" id="brandNameIcon"></i></span>
                                            </div>
                                            <div class="error" id="brandErr"></div>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <label for="ramSize" class="form-label">RAM size</label>
                                            <div class="input-group">
                                                <select name="ramSize" id="ramSize" class="form-control" onchange="validateRamSize()">
                                                    <option value=""></option>
                                                    <option value="8 GB RAM">8 GB RAM</option>
                                                    <option value="16 GB RAM" >16 GB RAM</option>
                                                    <option value="32 GB RAM">32 GB RAM </option>
                                                    <option value="64 GB RAM">64 GB RAM</option>
                                                </select>
                                                <span class="input-group-text iconParent"><i  class="fa fa-star" id="ramSizeIcon" ></i></span>
                                            </div>
                                            <div class="error" id="ramSizeErr"></div>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <label for="ssdStorage" class="form-label">SSD Storage</label>
                                            <div class="input-group">
                                                <select name="ssdStorage" id="ssdStorage" class="form-control" onchange="validateSSDStorage()">
                                                   <option value=""></option>
                                                   <option value="No NVME SSD">No SSD NVME SSD</option>
                                                   <option value="256 GB NVME SSD" >256 GB NVME SSD</option>
                                                   <option value="512 GB NVME SSD">512 GB NVME SSD</option>
                                                   <option value="1 TB  NVME SSD">1 TB NVME SSD</option>
                                                   <option value="2 TB  NVME SSD">2 TB NVME SSD </option>
                                                   <option value="4 TB NVME SSD">4 TB NVME SSD </option>
                                                   <option value="8 TB  NVME SSD">8 TB  NVME SSD</option>
                                               </select>
                                                <span class="input-group-text iconParent"><i  class="fa fa-star" id="ssdStorageIcon" ></i></span>
                                            </div>
                                            <div class="error" id="ssdErr"></div>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <label for="hhdStorage" class="form-label"> HHD Storage</label>
                                            <div class="input-group">
                                                <select name="hhdStorage" id="hhdStorage" class="form-control" onchange="validateHHDStorage()">
                                                   <option value=""></option>
                                                   <option value="No HHD ">No HHD </option>
                                                   <option value="256 GB HHD" >256 GB HHD</option>
                                                   <option value="512 GB HHD">512 GB HHD</option>
                                                   <option value="1 TB HHD">1 TB HHD</option>
                                                   <option value="2 TB HHD">2 TB HHD</option>
                                                   <option value="4 TB HHD">4 TB HHD</option>
                                                   <option value="4 TB HHD">4 TB HHD</option>
                                               </select>
                                                <span class="input-group-text iconParent"><i  class="fa fa-star" id="hhdStorageIcon" ></i></span>
                                            </div>
                                            <div class="error" id="hhdErr"></div>
                                        </div>
                                        <div class="col-md-6 col mt-0">
                                            <label for="gpu" class="form-label">GPU Option</label>
                                            <div class="input-group">
                                                <select name="gpu" id="gpu" class="form-control" onchange="validateGPU()">
                        <option value=""></option>
                        <option>Integrated Graphics</option>
                        <option>RTX 3050</option>
                        <option>RTX 3050 TI</option>
                        <option>RTX 3060 </option>
                        <option>RTX 3070 </option>
                        <option>RTX 3080</option>
                    </select>
                                                <span class="input-group-text iconParent"><i  class="fa fa-star" id="gpuIcon" ></i></span>
                                            </div>
                                            <div class="error" id="gpuErr"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4 col mt-0">
                                    <label for="displaySize" class="form-label">Display Size</label>
                                    <div class="input-group">
                                        <select name="displaySize" id="displaySize" class="form-control" onchange="validateDisplaySize()">
                                            <option value=""></option>
                                            <option value="13.3 Inches">13.3 Inches</option>
                                            <option value="14 Inches" >14 Inches</option>
                                            <option value="15.6 Inches">15.6 Inches</option>
                                            <option value="16 Inches">16 Inches</option>
                                            <option value="17 Inches">17 Inches</option>
                                        </select>
                                        <span class="input-group-text iconParent"><i  class="fa fa-star" id="displaySizeIcon" ></i></span>
                                    </div>
                                    <div class="error" id="displaySizeErr"></div>
                                </div>
                                <div class="col-md-4 col mt-0">
                                    <label for="displayResolution" class="form-label">Display Resolution </label>
                                    <div class="input-group">
                                        <select name="displayResolution" id="displayResolution" class="form-control" onchange="validateDisplayResolution()">
                                            <option value=""></option>
                                            <option value="FHD" >FHD</option>
                                            <option value="QHD">QHD</option>
                                            <option value="4K UHD">4K UHD</option>
                                            <option value="4K OLED">4K OLED</option>
                                            <option value="FHD 144 HTZ">FHD 144 HTZ</option>
                                            <option value="FHD 165 HTZ">FHD 165 HTZ</option>
                                            <option value="FHD 360 HTZ">FHD 360 HTZ</option>
                                            <option value="QHD 144 HTZ"> QHD 144 HTZ</option>
                                            <option value="QHD 165 HTZ">QHD 165 HTZ</option>

                                        </select>
                                        <span class="input-group-text iconParent"><i  class="fa fa-star" id="displayResolutionIcon" ></i></span>
                                    </div>
                                    <div class="error" id="displayResErr"></div>
                                </div>
                                <div class="col-md-4 col mt-0">
                                    <label for="price" class="form-label">Price</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="price" name="price" aria-describedby="inputGroupPrepend" placeholder="Starting At" onkeyup="validatePrice()">
                                        <span class="input-group-text iconParent"><i  class="fa fa-star" id="priceIcon" ></i></span>
                                    </div>
                                    <div class="error" id="priceErr"></div>
                                </div>


                                <div class="row">
                                    <button type="button" class="btn btn-outline-primary mt-3" onclick="validateForm();">
                    Submit&nbsp;&nbsp; 
                    <i class="fa fa-paper-plane" aria-hidden="true"></i>
                </button>
                                </div>
                            </form>
                        </div>
                        <div class="container-fluid rounded mt-1" style="background-color: black;">
                            <div w3-include-html="footer.html"></div </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>
<script>
    (function documentReady() {


        $("#show_hide_password a").on('click', function(event) {
            event.preventDefault();
            if ($('#show_hide_password input').attr("type") == "text") {
                $('#show_hide_password input').attr('type', 'password');
                $('#show_hide_password i').addClass("fa-eye-slash");
                $('#show_hide_password i').removeClass("fa-eye");
            } else if ($('#show_hide_password input').attr("type") == "password") {
                $('#show_hide_password input').attr('type', 'text');
                $('#show_hide_password i').removeClass("fa-eye-slash");
                $('#show_hide_password i').addClass("fa-eye");
            }
        });




        $("#show_hide_confirm_password a").on('click', function(event) {
            event.preventDefault();
            if ($('#show_hide_confirm_password input').attr("type") == "text") {
                $('#show_hide_confirm_password input').attr('type', 'password');
                $('#show_hide_confirm_password i').addClass("fa-eye-slash");
                $('#show_hide_confirm_password i').removeClass("fa-eye");
            } else if ($('#show_hide_confirm_password input').attr("type") == "password") {
                $('#show_hide_confirm_password input').attr('type', 'text');
                $('#show_hide_confirm_password i').removeClass("fa-eye-slash");
                $('#show_hide_confirm_password i').addClass("fa-eye");
            }
        });





    })();
</script>
<script>
    // Defining a function to display error message
    function printError(elemId, hintMsg) {
        //alert(elemId);
        document.getElementById(elemId).innerHTML = hintMsg;
    }

    // Retrieving the values of form elements 
    var manufacturerName = document.contactForm.manufacturerName;
    var brandName = document.contactForm.brandName;
    var ramSize = document.contactForm.ramSize;
    var hhdStorage = document.contactForm.hhdStorage;
    var ssdStorage = document.contactForm.ssdStorage;
    var gpu = document.contactForm.gpu;
    var displaySize = document.contactForm.displaySize;
    var displayResolution = document.contactForm.displayResolution;
    var price = document.contactForm.price;
    var pictureName = document.getElementById("pictureName");

    // Defining error variables with a default value
    var manufacturerErr = brandErr = ramSizeErr = ssdErr = hhdErr = gpuErr = displaySizeErr = displayResErr = priceErr = true;

    function valid(el, iconID) {
        el.style.border = "1px solid green";
        var elIcon = document.getElementById(iconID);
        elIcon.parentNode.style.border = "1px solid green";
        elIcon.style.color = "green";
        elIcon.classList.remove("fa-star");
        elIcon.classList.remove("fa-exclamation-triangle");
        elIcon.classList.add("fa-check");
    }

    function inValid(el, iconID) {
        el.style.border = "1px solid red";
        var elIcon = document.getElementById(iconID);
        elIcon.parentNode.style.border = "1px solid red";
        elIcon.style.color = "red";
        elIcon.classList.remove("fa-star");
        elIcon.classList.remove("fa-check");
        elIcon.classList.add("fa-exclamation-triangle");
    }



    // Validate car brand
    function validateManufacturerName() {

        if (manufacturerName.value == "") {
            printError("manufacturerErr", "Please enter the name of manufacturer of the laptop");
            inValid(manufacturerName, "manuafacturerNameIcon");

        } else {
            var regex = /^[A-Z][a-z]*/;
            if (regex.test(manufacturerName.value) === false) {
                printError("manufacturerErr", "Please enter a valid laptop manufacturer Name");
                inValid(manufacturerName, "manuafacturerNameIcon");
            } else {
                printError("manufacturerErr", "");
                manufacturerErr = false;
                valid(manufacturerName, "manuafacturerNameIcon");
            }
        }
    }

    function validateBrandName() {

        if (brandName.value == "") {
            printError("brandErr", "Please enter the name of the brand of the laptop");
            inValid(brandName, "brandNameIcon");

        } else {
            var regex = /^[A-Z][a-z]*/;
            if (regex.test(brandName.value) === false) {
                printError("brandErr", "Please enter a valid brand Name");
                inValid(brandName, "brandNameIcon");
            } else {
                printError("brandErr", "");
                brandErr = false;
                valid(brandName, "brandNameIcon");
            }
        }
    }



    function validatePrice() {
        // Validate Starting At
        if (price.value == "") {
            printError("priceErr", "Please enter a price");
            inValid(price, "priceIcon");
        } else {
            // Regular expression for Starting At price
            var regex = /^[0-9,.]+$/; // ex: 22,495


            if ((regex.test(price.value)) === false) {
                printError("priceErr", "Please enter a valid  price");
                inValid(price, "priceIcon");
            } else {
                printError("priceErr", "");
                priceErr = false;
                valid(price, "priceIcon");
            }
        }
    }



    // Validate carMileage
    function validateRamSize() {
        // Validate carMileage
        if (ramSize.value == "") {
            printError("ramSizeErr", "Please select your ram Size");
            inValid(ramSize, "ramSizeIcon");
        } else {
            printError("ramSizeErr", "");
            ramSizeErr = false;
            valid(ramSize, "ramSizeIcon");
        }
    }

    // Validate carMileage
    function validateSSDStorage() {
        // Validate carMileage
        if (ssdStorage.value == "") {
            printError("ssdErr", "Please select your ssd storage");
            inValid(ssdStorage, "ssdStorageIcon");
        } else {
            printError("ssdErr", "");
            ssdErr = false;
            valid(ssdStorage, "ssdStorageIcon");
        }
    }
    // Validate carMileage
    function validateHHDStorage() {
        // Validate carMileage
        if (hhdStorage.value == "") {
            printError("hhdErr", "Please select your hhd storage ");
            inValid(hhdStorage, "hhdStorageIcon");
        } else {
            printError("hhdErr", "");
            hhdErr = false;
            valid(hhdStorage, "hhdStorageIcon");
        }
    }

    function validateGPU() {
        // Validate carMileage
        if (gpu.value == "") {
            printError("gpuErr", "Please select your gpu");
            inValid(gpu, "gpuIcon");
        } else {
            printError("gpuErr", "");
            gpuErr = false;
            valid(gpu, "gpuIcon");
        }
    }

    // Validate carMileage
    function validateDisplaySize() {
        // Validate carMileage
        if (displaySize.value == "") {
            printError("displaySizeErr", "Please select your display Size");
            inValid(displaySize, "displaySizeIcon");
        } else {
            printError("displaySizeErr", "");
            displaySizeErr = false;
            valid(displaySize, "displaySizeIcon");
        }
    }
    // Validate carMileage
    function validateDisplayResolution() {
        // Validate carMileage
        if (displayResolution.value == "") {
            printError("displayResErr", "Please select your display resolution");
            inValid(displayResolution, "displayResolutionIcon");
        } else {
            printError("displayResErr", "");
            displayResErr = false;
            valid(displayResolution, "displayResolutionIcon");
        }
    }

    // Defining a function to validate form 
    function validateForm() {
        validateManufacturerName();
        validateBrandName();
        validateRamSize();
        validateSSDStorage();
        validateHHDStorage();
        validateGPU();
        validateDisplaySize();
        validateDisplayResolution();
        validatePrice();


        // Prevent the form from being submitted if there are any errors
        if ((manufacturerErr || brandErr || ramSizeErr || ssdErr || hhdErr ||
                gpuErr || displaySizeErr || displayResErr || priceErr) == true) {
            return false;
        } else {

            createRequest();
            return true;
        }

    };
</script>

<script>
    /************************************ firestore Start ******************************************/

    const database = firebase.firestore();

    const laptopCollection = database.collection('laptops');

    //save customer
    function createRequest() {
        const _ref = firebase.firestore().collection('laptops').doc();
        const newKey = _ref.id;

        const ID = laptopCollection.doc(newKey).set({

                manufacturerName: manufacturerName.value,
                brandName: brandName.value,
                ramSize: ramSize.value,
                ssdStorage: ssdStorage.value,
                hhdStorage: hhdStorage.value,
                gpu: gpu.value,
                displaySize: displaySize.value,
                displayResolution: displayResolution.value,
                price: price.value,
                pictureName: pictureName.value

            })
            .then(() => {
                console.log('Laptop Request has been saved successfully !')
                console.log('Customer Key: ' + newKey);
                window.location = "thankyou.html";
            })
            .catch(error => {
                console.error(error)
                window.location = "error.html";
            });



    }


    (function documentReady() {
        includeHTML();

    })();
</script>


<script>
    function uploadPicture() {

        const file = document.querySelector("#uploadBtn").files[0];
        const fileName = +new Date() + "-" + file.name;
        document.getElementById("pictureName").value = fileName;
        //create a storage reference
        const ref = firebase.storage().ref("images/");
        const metadata = {
            contentType: file.type
        };
        const task = ref.child(fileName).put(file, metadata);
        task
            .then(snapshot => snapshot.ref.getDownloadURL())
            .then(url => {
                console.log(url);
                document.querySelector("#uploadPreview").src = url;
            })
            .catch(console.error);
    }
</script>







<style>
    .fileUpload {
        position: relative;
        overflow: hidden;
        margin: 10px;
    }
    
    .fileUpload input.upload {
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        padding: 0;
        font-size: 20px;
        cursor: pointer;
        opacity: 0;
        filter: alpha(opacity=0);
    }
    
    .error {
        color: red;
        font-size: 90%;
    }
    
    input[type="submit"]:hover {
        background: #0165b6;
    }
    
    input[type=text],
    input[type=password],
    select {
        border-right: 0 !important;
    }
    
    .iconParent {
        background-color: white;
        border-left: 0 !important;
    }
</style>
<style>
    .emp-profile {
        padding: 3%;
        margin-top: 3%;
        margin-bottom: 3%;
        border-radius: 0.5rem;
        background: #fff;
    }
    
    .car-img {
        text-align: center;
    }
    
    .car-img img {
        width: 70%;
        height: 100%;
    }
    
    .car-img .file {
        position: relative;
        overflow: hidden;
        margin-top: -20%;
        width: 70%;
        border: none;
        border-radius: 0;
        font-size: 15px;
        background: #212529b8;
    }
    
    .car-img .file input {
        position: absolute;
        opacity: 0;
        right: 0;
        top: 0;
    }
    
    .car-head h5 {
        color: #333;
    }
    
    .car-head h6 {
        color: #0062cc;
    }
    
    .car-edit-btn {
        border: none;
        border-radius: 1.5rem;
        width: 70%;
        padding: 2%;
        font-weight: 600;
        color: #6c757d;
        cursor: pointer;
    }
</style>

</html>